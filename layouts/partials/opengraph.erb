<%# for the archaic, proprietary, and limited Open Graph Protocol http://ogp.me/ %>
<meta property="og:title" content="<%=h @item[:full_title] || @item[:title] %>" />
<meta property="og:description" content="<%=h @item[:meta_description] || @item[:description] %>" />
<meta property="og:site_name" content="<%=h @config.dig(:site, :name) %>" />
<meta property="og:url" content="<%= path_to(@item, absolute: true) %>" />
<% locale = Locale.create_language_tag(@item.fetch(:lang) { Locale.default }).to_simple %>
<meta property="og:locale" content="<%= locale %>" />
<%# TODO: other locales this page is available in? %>
<% if @item.key?(:cover_image_id) %>
  <meta property="og:image" content="<%= path_to(@items[@item.fetch(:cover_image_id)], absolute: true) %>" />
  <%# TODO: other image attributes, if they exist %>
<% end %>
<% if syndicated?(@item) %>
  <meta property="og:type" content="article" />
  <% if @item.key?(:published_at) %>
    <meta property="article:published_time" content="<%= attribute_to_time(@item.fetch(:published_at)).iso8601 %>" />
  <% end %>
  <meta property="article:modified_time" content="<%= attribute_to_time(@item.fetch(:updated_at)).iso8601 %>" />
  <%# TODO: article:author %>
  <% Array(@item[:tags]).each do |tag| %>
    <meta property="article:tag" content="<%=h tag %>" />
  <% end %>
<% else %>
  <meta property="og:type" content="website" />
<% end %>
